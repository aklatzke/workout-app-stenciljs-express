/*! Built with http://stenciljs.com */
const{h:t}=window.App;import{a as e,b as n}from"./chunk-304dc430.js";var i=function(t,e,n,i){return new(n||(n=Promise))(function(r,s){function o(t){try{c(i.next(t))}catch(t){s(t)}}function a(t){try{c(i.throw(t))}catch(t){s(t)}}function c(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(o,a)}c((i=i.apply(t,e||[])).next())})};class r{componentWillLoad(){return i(this,void 0,void 0,function*(){this.changeBack.emit("/"),this.workout=yield e(`/user/${this.uid}/workout/active`),this.setContextMenu.emit(this.contextMenu())})}contextMenu(){return t("stencil-route-link",{url:"/workout/active/add"},t("button",{class:"btn btn-sm btn-primary btn-just-icon"},t("i",{class:"fa fa-plus"})))}renderExercises(){return this.workout.exercises?this.workout.exercises.map(e=>t("exercise-single",{data:e})):t("stencil-route-link",{url:"/workout/active/add"},t("button",{class:"btn btn-block btn-outline-primary btn-primary mt-2"},"Add an Exercise"))}finishWorkout(){return i(this,void 0,void 0,function*(){let t=yield n(`/workout/${this.workout._id}/finish`);this.activeWorkoutChange.emit(),t&&this.history.push("/")})}render(){return t("div",{class:"row"},t("div",{class:"col-12 pt-2 pl-4 pr-4"},t("div",{class:"row"},t("div",{class:"col-12"},t("button",{class:"btn btn-block btn-outline-danger",onClick:()=>this.finishWorkout()},"Finish Workout"))),this.renderExercises()))}static get is(){return"active-workout"}static get properties(){return{history:{type:"Any",attr:"history"},uid:{type:String,attr:"uid"},workout:{state:!0}}}static get events(){return[{name:"changeBack",method:"changeBack",bubbles:!0,cancelable:!0,composed:!0},{name:"setContextMenu",method:"setContextMenu",bubbles:!0,cancelable:!0,composed:!0},{name:"activeWorkoutChange",method:"activeWorkoutChange",bubbles:!0,cancelable:!0,composed:!0}]}static get style(){return""}}class s{render(){return t("div",null,t("p",null,JSON.stringify(this.data,null,2)))}static get is(){return"exercise-single"}static get properties(){return{data:{type:"Any",attr:"data"}}}static get style(){return""}}export{r as ActiveWorkout,s as ExerciseSingle};