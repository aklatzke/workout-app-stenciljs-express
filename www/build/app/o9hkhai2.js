/*! Built with http://stenciljs.com */
const{h:t}=window.App;import{a as e}from"./chunk-304dc430.js";import{a as s}from"./chunk-27ccbbe9.js";var i=function(t,e,s,i){return new(s||(s=Promise))(function(c,l){function n(t){try{r(i.next(t))}catch(t){l(t)}}function o(t){try{r(i.throw(t))}catch(t){l(t)}}function r(t){t.done?c(t.value):new s(function(e){e(t.value)}).then(n,o)}r((i=i.apply(t,e||[])).next())})};class c{constructor(){this.highest=0,this.lowest=0,this.percentChange=0,this.mostRecent=0,this.mostRecentVs=0,this.plotly=window.Plotly}componentWillLoad(){return i(this,void 0,void 0,function*(){let t=yield e(`/user/${this.uid}/excercise/${this.match.params.eid}/detail`);this.excercise=Object.assign({},t)})}componentDidLoad(){this.changeBack.emit("/");let t=document.querySelector("#date-plot"),e=Object.keys(this.excercise.data).map(t=>this.excercise.data[t].avgRep),i=this.excercise.rawArray.map(t=>t.avgRep).sort((t,e)=>t-e),c=i[i.length-1]+50,l=i[0]-50;this.highest=i[i.length-1],this.lowest=i[0],this.percentChange=Math.round(l/c*100*100)/100;let n=Object.keys(this.excercise.data).map(t=>parseInt(t));this.mostRecent=e[e.length-1],this.mostRecentVs=Math.round(this.mostRecent/this.highest*100);let o=n[0],r=n[n.length-1];l<0&&(l=0),window.setTimeout(()=>{let i=[{type:"line",x:Object.keys(this.excercise.data).map(t=>s.unix(parseInt(t)).format("MMM Do YYYY")),y:e,line:{color:"#fff"}}],n={autosize:!0,plot_bgcolor:"#121212",paper_bgcolor:"#343434",linecolor:"#fff",margin:{l:30,r:30,b:25,t:10,pad:0},yaxis:{range:[l,c],tickcolor:"#fff",tickfont:{color:"#fff"},linecolor:"#fff",gridcolor:"#444"},xaxis:{tickvals:[s.unix(o).format("MMM Do YYYY"),s.unix(r).format("MMM Do YYYY")],tickcolor:"#fff",tickfont:{color:"#fff"},linecolor:"#fff"}};this.plotly.purge(t),this.plotly.plot(t,i,n)},500)}render(){return t("div",{class:"row"},t("div",{class:"col-12 pl-4 pr-4"},t("h3",null,this.excercise.proper),t("div",{class:"row pt-3"},t("div",{class:"col-12"},t("div",{id:"date-plot"}))),t("div",{class:"row"},t("div",{class:"col-12 pt-5"},t("div",{class:"tile"},t("div",{class:"tile-inner"},t("strong",null,"Highest Avg. Rep")," ",this.highest)),t("div",{class:"tile"},t("div",{class:"tile-inner"},t("strong",null,"Lowest Avg. Rep")," ",this.lowest)),t("div",{class:"tile tile-full"},t("div",{class:"tile-inner"},t("strong",null,"Percent Change")," ",this.percentChange,"%"))),t("div",{class:"col-12 pt-3"},t("div",{class:"tile"},t("div",{class:"tile-inner"},t("strong",null,"Highest Ever")," ",this.highest)),t("div",{class:"tile"},t("div",{class:"tile-inner"},t("strong",null,"Most Recent")," ",this.mostRecent)),t("div",{class:"tile tile-full"},t("div",{class:"tile-inner"},t("strong",null,"Current vs. Max")," ",this.mostRecentVs,"% ",t("small",null,"of max")))))))}static get is(){return"exercise-specific"}static get properties(){return{excercise:{state:!0},highest:{state:!0},lowest:{state:!0},match:{type:"Any",attr:"match"},mostRecent:{state:!0},mostRecentVs:{state:!0},percentChange:{state:!0},uid:{type:String,attr:"uid"}}}static get events(){return[{name:"changeBack",method:"changeBack",bubbles:!0,cancelable:!0,composed:!0}]}static get style(){return"#date-plot{width:100%}.tile{width:50%;float:left;text-align:center;padding-right:5px;-webkit-box-sizing:border-box;box-sizing:border-box;margin-bottom:10px}.tile .tile-inner{border:2px solid #4f69ff;border-radius:6px;padding-top:20px;padding-bottom:20px;text-transform:uppercase;font-size:32px;background-color:#dfe3ff}.tile+.tile .tile-inner{border-color:#f76c6c;padding-left:5px;background-color:#ffd7d7}.tile strong{display:block;font-weight:700;font-size:12px;margin-bottom:10px}.tile+.tile.tile-full{width:100%;border-color:#333}.tile+.tile.tile-full .tile-inner{width:100%;border-color:#222;background-color:#555;color:#89ffc2}.tile+.tile-full strong{font-size:18px;color:#fff}.tile small{text-transform:lowercase}h3{text-transform:capitalize}"}}export{c as ExerciseSpecific};