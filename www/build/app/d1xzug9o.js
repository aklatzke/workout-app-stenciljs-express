/*! Built with http://stenciljs.com */
const{h:t}=window.App;import{a as e}from"./chunk-304dc430.js";var o=function(t,e,o,n){return new(o||(o=Promise))(function(s,r){function i(t){try{c(n.next(t))}catch(t){r(t)}}function l(t){try{c(n.throw(t))}catch(t){r(t)}}function c(t){t.done?s(t.value):new o(function(e){e(t.value)}).then(i,l)}c((n=n.apply(t,e||[])).next())})};class n{constructor(){this.list=[]}componentDidLoad(){return o(this,void 0,void 0,function*(){let t=yield e(`http://localhost:8080/user/exercises/all/?uid=${this.uid}`);this.list=[...t]})}render(){return t("div",null,t("h4",null,"Graphs & Data"),t("hr",null),this.list.map(e=>t("stencil-route-link",{url:`/exercise/${e._id}`},t("button",{class:"btn btn-primary btn-sm mr-2 mb-2"},e.name))))}static get is(){return"workout-list"}static get properties(){return{list:{state:!0},uid:{type:String,attr:"uid"}}}static get style(){return""}}var s=function(t,e,o,n){return new(o||(o=Promise))(function(s,r){function i(t){try{c(n.next(t))}catch(t){r(t)}}function l(t){try{c(n.throw(t))}catch(t){r(t)}}function c(t){t.done?s(t.value):new o(function(e){e(t.value)}).then(i,l)}c((n=n.apply(t,e||[])).next())})};class r{constructor(){this.plotly=window.Plotly,this.componentDidLoad=(()=>s(this,void 0,void 0,function*(){let t=yield e(`http://localhost:8080/user/${this.uid}/workouts/overview`),o=Object.keys(t.favWorkouts),n=o.map(e=>t.favWorkouts[e]),s=document.querySelector("#favorite-workouts"),r=Object.keys(t.favExercises).slice(0,5),i=r.map(e=>t.favExercises[e]),l=document.querySelector("#favorite-exercises");this.changeBack.emit(!1),this.setContextMenu.emit(this.contextMenu());let c={margin:{l:50,r:50,t:50,b:70,pad:0},plot_bgcolor:"#343434",paper_bgcolor:"#343434",yaxis:{tickcolor:"#fff",tickfont:{color:"#fff"},line:{color:"#fff"}},xaxis:{tickcolor:"#fff",tickfont:{color:"#fff"}}},a={type:"pie",labels:o,values:n},u=Object.assign({},a,{textinfo:"percent",textposition:"outside",showlegend:!1,textfont:{color:"#fff"}}),d=Object.assign({},a,{textinfo:"label",textposition:"inside",showlegend:!1,textfont:{color:"#fff"}});this.plotly.plot(s,[u,d],Object.assign({},c,{textposition:"outside"})),this.plotly.plot(l,[{type:"bar",x:r,y:i}],c)}))}contextMenu(){return t("stencil-route-link",{url:""},t("button",{class:"btn btn-sm btn-primary btn-just-icon"},t("i",{class:"fa fa-user"})))}renderWorkoutButton(){return this.hasActiveWorkout?t("stencil-route-link",{url:"/workout/active"},t("button",{class:"btn btn-block btn-sm btn-outline-primary"},"Active Workout")):t("stencil-route-link",{url:"/workout/new"},t("button",{class:"btn btn-block btn-sm btn-outline-primary"},"Start Workout"))}render(){return t("div",{class:"graph-container pl-2 pr-2"},t("h3",null,"Dashboard"),t("hr",null),t("div",{class:"row"},t("div",{class:"col-12"},this.renderWorkoutButton())),t("hr",null),t("div",{class:"row"},t("div",{class:"col-12 col-md-5 offset-md-1"},t("h4",null,"Most Performed Routines"),t("div",{id:"favorite-workouts"})),t("div",{class:"col-12 col-md-5 offset-md-1"},t("h4",null,"Most Performed Excercises"),t("div",{id:"favorite-exercises"}))),t("div",{class:"row"},t("div",{class:"col-12"},t("workout-list",{uid:this.uid}))))}static get is(){return"workouts-dashboard"}static get properties(){return{hasActiveWorkout:{type:Boolean,attr:"has-active-workout"},uid:{type:String,attr:"uid"}}}static get events(){return[{name:"changeBack",method:"changeBack",bubbles:!0,cancelable:!0,composed:!0},{name:"setContextMenu",method:"setContextMenu",bubbles:!0,cancelable:!0,composed:!0}]}static get style(){return""}}export{n as WorkoutList,r as WorkoutsDashboard};